<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detail Mesin | Feasbake</title>
  
  <link rel="stylesheet" href="style.css" />
  <style>
    /* ===================== OVERRIDE NAVBAR & CONTAINER ==================== */
    .navbar {
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      background-color: var(--brand-900); 
      z-index: var(--z-navbar);
    }
    
    .logo-default { display: none !important; }
    .logo-scrolled { opacity: 1 !important; visibility: visible !important; display: block !important; }

    .container {
      background: var(--neutral-50);
      padding: 120px 24px; /* Padding atas disesuaikan untuk navbar fixed */
      min-height: 100vh;
    }

    /* ===================== PRODUCT DETAIL LAYOUT ===================== */
    .product-detail-wrapper {
      display: grid;
      grid-template-columns: 45% 1fr; /* Kiri 45%, Kanan sisa */
      gap: 16px;
      align-items: start; /* Penting untuk Sticky */
    }

    /* --- LEFT COLUMN (VISUALS) --- */
    .detail-left {
      position: sticky;
      top: 80px; /* Jarak dari navbar saat scroll */
    }

    .main-image-wrapper {
      width: 100%;
      aspect-ratio: 1 / 1;
      background-color: white;
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 16px;
      border: 1px solid var(--neutral-200);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .main-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
      padding: 24px;
      transition: opacity 0.3s ease;
    }

    .thumbnail-gallery {
      display: flex;
      gap: 12px;
      justify-content: center;
    }

    .thumb-item {
      width: 80px;
      height: 80px;
      background-color: var(--neutral-50);
      border-radius: 8px;
      cursor: pointer;
      border: 1px solid var(--neutral-200);
      padding: 8px;
      opacity: 0.6; /* Default inactive opacity */
      transition: all 0.3s ease;
    }

    .thumb-item.active {
      opacity: 1;
      border-color: var(--brand-500);
      box-shadow: 0 0 0 2px var(--brand-100);
    }

    .thumb-item:hover {
      opacity: 1;
    }

    .thumb-img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    /* --- RIGHT COLUMN (CARDS STACK) --- */
    .detail-right {
      display: flex;
      flex-direction: column;
      gap: 24px;
      width: 100%;
    }

    /* Common Card Style */
    .detail-card {
      background-color: var(--neutral-100);
      border-radius: 16px;
      padding: 32px;
      height: fit-content;
    }

    /* Card 1: Main Info */
    .product-title {
      font-size: var(--body-xl);
      color: var(--text-primary);
      font-weight: 700;
      margin-bottom: 8px;
    }

    .product-price {
      font-size: var(--h5-size);
      color: var(--brand-500);
      font-weight: 700;
      margin-bottom: 24px;
    }

    .action-row {
      display: flex;
      gap: 16px;
      align-items: stretch;
    }

    /* Quantity Selector */
    .qty-selector {
      display: flex;
      align-items: center;
      background-color: var(--neutral-200); /* Sesuai request */
      border-radius: 8px;
      padding: 4px;
    }

    .qty-btn {
      width: 40px;
      height: 48px; /* Samakan tinggi dengan primary button */
      border: none;
      background: transparent;
      color: var(--text-primary);
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .qty-input {
      width: 40px;
      text-align: center;
      background: transparent;
      border: none;
      font-weight: 700;
      color: var(--text-primary);
      font-size: 16px;
    }

    .btn-add-cart {
      flex: 1; /* Fill remaining width */
      justify-content: center;
    }

    /* Card 2-4: Accordion Cards */
    .accordion-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      user-select: none;
    }

    .accordion-title {
      font-size: var(--body-l);
      color: var(--text-primary);
      font-weight: 700;
    }

    .accordion-icon {
      width: 24px;
      height: 24px;
      position: relative;
      transition: transform 0.3s ease;
    }
    
    /* Membuat tanda + dengan CSS agar mudah dianimasikan */
    .accordion-icon::before,
    .accordion-icon::after {
      content: '';
      position: absolute;
      background-color: var(--text-primary);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border-radius: 2px;
    }
    
    .accordion-icon::before { width: 2px; height: 16px; } /* Garis vertikal */
    .accordion-icon::after { width: 16px; height: 2px; } /* Garis horizontal */

    /* Animasi + jadi X */
    .detail-card.active .accordion-icon {
      transform: rotate(45deg); /* Putar 45 derajat */
    }

    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, margin-top 0.4s ease;
      font-size: var(--body-m);
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .detail-card.active .accordion-content {
      max-height: 500px; /* Angka cukup besar untuk menampung konten */
      margin-top: 16px;
    }

    /* Card 5: Similar Products */
    .similar-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-top: 16px;
    }

    .similar-item {
      position: relative;
      aspect-ratio: 1 / 1;
      border-radius: 12px;
      overflow: hidden;
      cursor: pointer;
    }

    .similar-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .similar-item:hover .similar-img {
      transform: scale(1.05);
    }

    /* White Overlay for Text */
    .similar-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: rgba(255, 255, 255, 0.9); /* White overlay */
      padding: 12px;
      text-align: center;
    }

    .similar-title {
      font-size: var(--body-l);
      color: var(--text-primary);
      font-weight: 600;
      margin: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* RESPONSIVE */
    @media (max-width: 1024px) {
      .container { padding: 100px 40px; }
      .product-detail-wrapper { gap: 40px; }
    }

    @media (max-width: 768px) {
      .product-detail-wrapper {
        grid-template-columns: 1fr; /* Stack layout */
      }
      .detail-left {
        position: static; /* Hilangkan sticky di mobile */
      }
      .similar-grid {
        grid-template-columns: 1fr; /* 1 produk per baris di HP */
      }
    }
  </style>
</head>

<body>
  <nav class="navbar" id="mainNavbar">
    <div class="navbar-container">
      <a href="index.html" class="logo">
        <svg class="logo-scrolled" width="98" height="40" viewBox="0 0 98 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="98" height="40" rx="20" fill="#FAFAFA"/>
          <g clip-path="url(#clip0_79_27)">
          <path d="M36.5231 11.6317C37.144 11.6317 37.7649 11.6317 38.4025 11.6317C38.4086 11.7267 38.4164 11.7928 38.4164 11.859C38.4172 13.096 38.419 14.3331 38.4121 15.5701C38.4117 15.6448 38.3407 15.7191 38.2603 15.7941C38.179 15.7967 38.1401 15.7989 38.0772 15.7976C36.8415 15.796 35.6297 15.7978 34.396 15.7966C34.3299 15.7963 34.2858 15.7992 34.2186 15.7989C33.5764 15.7956 32.9571 15.7956 32.3311 15.7956C32.3311 16.7381 32.3311 17.6575 32.3311 18.5916C33.2116 18.5916 34.0811 18.5916 34.9682 18.5949C35.0216 18.5957 35.0574 18.5932 35.1171 18.5945C36.2281 18.5982 37.3151 18.5982 38.4412 18.5982C38.4412 19.6206 38.4412 20.6123 38.4342 21.6276C38.4258 21.7532 38.4302 21.8555 38.4215 21.9568C38.4062 22.1364 38.3829 22.3152 38.3389 22.4906C37.1721 22.4912 36.0292 22.4956 34.8682 22.4952C34.8252 22.4922 34.8004 22.494 34.7519 22.491C33.9279 22.4862 33.1275 22.4862 32.3199 22.4862C32.3199 23.2571 32.3182 23.9921 32.3203 24.7271C32.3229 25.6003 32.3289 26.4735 32.3303 27.3651C32.3308 27.4333 32.3343 27.4831 32.3331 27.5567C32.3284 28.1179 32.3284 28.6552 32.3284 29.1925C32.2971 29.201 32.2657 29.2095 32.2343 29.2181C32.0112 28.9106 31.7882 28.6031 31.5633 28.2816C31.5441 28.2461 31.5268 28.2246 31.5061 28.1856C30.7917 27.125 30.0807 26.0819 29.3672 25.0253C29.3414 24.9843 29.3182 24.9567 29.2885 24.9117C28.3005 23.44 27.321 21.9842 26.3343 20.5334C26.2331 20.3847 26.2228 20.2808 26.3298 20.1268C26.8329 19.4029 27.3241 18.6706 27.816 17.9389C28.3892 17.086 28.9587 16.2306 29.5431 15.368C29.5707 15.3322 29.5851 15.3046 29.6134 15.2673C30.1642 14.4664 30.7025 13.6763 31.2369 12.8835C31.4048 12.6344 31.5621 12.3782 31.7376 12.116C31.7736 12.0712 31.7964 12.0357 31.8329 11.9894C31.9723 11.7997 32.0979 11.6206 32.2041 11.4691C32.3283 11.5435 32.4114 11.6363 32.4949 11.6368C33.7757 11.6433 35.0566 11.6378 36.3605 11.6384C36.4301 11.6383 36.4766 11.635 36.5231 11.6317Z" fill="#002266"/>
          <path d="M39.2686 23.4282C39.2686 21.7169 39.2686 20.0317 39.2686 18.3226C41.3035 18.3226 43.3146 18.3226 45.3415 18.3226C45.3415 19.607 45.3415 20.8733 45.3415 22.1626C43.8894 22.1626 42.4478 22.1626 40.9897 22.1626C40.9897 23.1058 40.9897 24.0264 40.9897 24.97C42.4383 24.97 43.8797 24.97 45.3391 24.97C45.3391 26.4325 45.3391 27.8722 45.3391 29.3453C45.2454 29.3453 45.154 29.3453 45.0625 29.3453C43.2885 29.3453 41.5144 29.3453 39.7404 29.3453C39.2687 29.3453 39.2686 29.3453 39.2686 28.8801C39.2685 27.0715 39.2686 25.2628 39.2686 23.4282Z" fill="#002266"/>
          <path d="M51.0084 25.1101C51.089 25.0501 51.1691 24.9836 51.2496 24.9832C52.4353 24.9765 53.621 24.9786 54.8066 24.9786C54.8915 24.9786 54.9763 24.9786 55.0758 24.9786C55.0758 24.039 55.0758 23.118 55.0758 22.1698C53.7196 22.1698 52.3666 22.1698 51.0029 22.1698C51.0029 20.8753 51.0029 19.6078 51.0029 18.3199C52.9338 18.3199 54.8514 18.3199 56.7869 18.3199C56.7869 21.9921 56.7869 25.6486 56.7869 29.3254C54.8747 29.3254 52.9587 29.3254 51.0081 29.3254C51.0081 27.9328 51.0081 26.5336 51.0084 25.1101Z" fill="#002266"/>
          <path d="M46.8627 22.2062C47.2888 16.3485 47.712 10.5147 48.1352 4.68096C48.1788 4.68041 48.2225 4.67987 48.2661 4.67932C48.8638 12.8901 49.4616 21.1008 50.0607 29.3295C48.8122 29.3295 47.5973 29.3295 46.3428 29.3295C46.5159 26.952 46.6879 24.5911 46.8627 22.2062Z" fill="#002266"/>
          <path d="M44.4424 15.7933C42.73 15.7933 41.0436 15.7933 39.3428 15.7933C39.3428 14.4087 39.3428 13.0377 39.3428 11.6556C41.395 11.6556 43.4341 11.6556 45.4948 11.6556C45.4948 13.0247 45.4948 14.3938 45.4948 15.7933C45.1539 15.7933 44.8111 15.7933 44.4424 15.7933Z" fill="#002266"/>
          <path d="M56.914 13.039C56.914 14.0158 56.914 14.9666 56.914 15.9338C54.9433 15.9338 52.9836 15.9338 51.0068 15.9338C51.0068 14.5699 51.0068 13.2002 51.0068 11.8164C52.9707 11.8164 54.9296 11.8164 56.914 11.8164C56.914 12.2218 56.914 12.6174 56.914 13.039Z" fill="#002266"/>
          <path d="M38.1014 15.802C38.1404 15.7999 38.1794 15.7977 38.2375 15.7991C38.6293 17.3331 38.8196 18.887 38.7228 20.4593C38.378 26.0592 36.0102 30.5283 31.1212 33.4235C25.6621 36.6562 18.7981 35.5283 14.5216 30.8361C12.1953 28.2837 10.8576 25.2813 10.5155 21.8536C10.0797 17.4866 11.1582 13.523 13.8914 10.069C16.1295 7.24049 19.0281 5.42831 22.6121 4.85455C26.3623 4.25419 29.7704 5.15866 32.8068 7.43324C34.3206 8.56725 35.5426 9.9707 36.5157 11.615C36.4769 11.636 36.4304 11.6393 36.3591 11.6211C35.4519 10.0918 34.3072 8.80885 32.9497 7.71935C31.9276 6.89898 30.799 6.25182 29.5797 5.76114C28.2564 5.22857 26.8816 4.91244 25.463 4.84581C24.6653 4.80833 23.8537 4.84323 23.0626 4.95053C22.231 5.06333 21.3999 5.24829 20.5981 5.4969C19.2885 5.90299 18.0835 6.54062 16.9639 7.33974C15.7101 8.23458 14.6243 9.29946 13.7025 10.5288C12.9641 11.5137 12.3595 12.5787 11.8699 13.7102C11.1123 15.4611 10.6904 17.2954 10.5875 19.1916C10.5381 20.1008 10.6221 21.0193 10.6777 21.9315C10.7413 22.9768 10.9945 23.9881 11.3051 24.985C11.9517 27.0602 12.9938 28.9186 14.4422 30.5341C15.7596 32.0034 17.3109 33.1667 19.1269 33.9744C20.7584 34.7 22.4657 35.063 24.2387 35.1052C24.9063 35.1211 25.5788 35.0337 26.2456 34.9612C27.6142 34.8125 28.9056 34.3839 30.1425 33.796C32.1024 32.8645 33.7333 31.5141 35.1016 29.8373C36.2442 28.4372 37.1184 26.8834 37.6779 25.1686C37.9626 24.2959 38.1383 23.3876 38.3633 22.4954C38.3832 22.3163 38.4065 22.1374 38.4219 21.9578C38.4305 21.8566 38.4261 21.7542 38.4523 21.6222C38.4933 21.4504 38.5239 21.3087 38.5237 21.1671C38.5226 20.1193 38.5645 19.0682 38.4934 18.0248C38.4426 17.2785 38.2376 16.5426 38.1014 15.802Z" fill="#B62F23"/>
          <path d="M38.339 22.4908C38.1381 23.3868 37.9624 24.2951 37.6776 25.1678C37.1182 26.8826 36.2439 28.4364 35.1014 29.8365C33.7331 31.5133 32.1021 32.8637 30.1422 33.7952C28.9053 34.3831 27.614 34.8117 26.2453 34.9604C25.5786 35.0329 24.9061 35.1203 24.2385 35.1044C22.4654 35.0622 20.7581 34.6992 19.1267 33.9736C17.3106 33.1659 15.7594 32.0026 14.442 30.5333C12.9935 28.9178 11.9515 27.0594 11.3049 24.9842C10.9943 23.9873 10.7411 22.976 10.6774 21.9307C10.6219 21.0184 10.5379 20.1 10.5872 19.1908C10.6901 17.2946 11.112 15.4603 11.8697 13.7094C12.3593 12.5779 12.9639 11.5129 13.7023 10.528C14.624 9.29865 15.7099 8.23377 16.9636 7.33893C18.0833 6.53981 19.2883 5.90218 20.5979 5.49609C21.3997 5.24748 22.2307 5.06252 23.0623 4.94972C23.8534 4.84242 24.665 4.80752 25.4627 4.845C26.8813 4.91163 28.2561 5.22776 29.5795 5.76033C30.7988 6.25101 31.9274 6.89817 32.9495 7.71854C34.3069 8.80804 35.4517 10.091 36.3358 11.6171C35.0566 11.638 33.7758 11.6435 32.4949 11.637C32.4114 11.6365 32.3284 11.5437 32.2042 11.4693C32.0979 11.6208 31.9724 11.7999 31.8171 11.9823C31.6806 11.8984 31.572 11.8133 31.4673 11.7237C29.9556 10.4311 28.1966 9.72586 26.2246 9.56658C25.3282 9.49417 24.4319 9.57432 23.5551 9.79461C21.6618 10.2703 20.0691 11.2393 18.7426 12.6746C17.6989 13.8039 16.9459 15.0975 16.4486 16.5408C16.1168 17.5038 15.9387 18.4989 15.8565 19.5201C15.7823 20.4412 15.8452 21.3475 15.9955 22.2464C16.2104 23.5316 16.643 24.7474 17.3015 25.8797C17.9285 26.958 18.6991 27.9185 19.6739 28.6951C20.9932 29.7461 22.4771 30.4329 24.1677 30.6636C25.2062 30.8053 26.227 30.7649 27.2472 30.5537C28.3501 30.3253 29.3779 29.9039 30.3154 29.2861C30.7575 28.9947 31.1501 28.6283 31.5652 28.2959C31.7882 28.6033 32.0113 28.9108 32.2343 29.2183C32.2657 29.2097 32.2971 29.2012 32.3285 29.1927C32.3285 28.6554 32.3285 28.1181 32.349 27.5495C32.4254 27.4641 32.487 27.4147 32.5366 27.3554C33.3339 26.4008 33.9913 25.3596 34.4083 24.1845C34.6032 23.6357 34.7292 23.0624 34.8864 22.5002C36.0293 22.4958 37.1721 22.4914 38.339 22.4908Z" fill="#EA3323"/>
          <path d="M29.5295 15.3762C28.9584 16.2306 28.3889 17.086 27.8157 17.9389C27.3238 18.6706 26.8326 19.4029 26.3295 20.1268C26.2226 20.2807 26.2329 20.3847 26.334 20.5334C27.3207 21.9842 28.3002 23.44 29.2692 24.9179C28.1501 25.5479 26.9683 25.7546 25.7298 25.5405C24.3408 25.3004 23.2142 24.5866 22.3813 23.4606C21.2175 21.8871 20.9599 20.134 21.5703 18.2855C22.0621 16.796 23.0593 15.7141 24.4833 15.0472C25.443 14.5977 26.45 14.4686 27.5034 14.6329C28.233 14.7467 28.8947 15.0179 29.5295 15.3762Z" fill="#EA3323"/>
          <path d="M38.0772 15.7979C38.2373 16.5419 38.4423 17.2777 38.4931 18.0241C38.5642 19.0674 38.5223 20.1186 38.5234 21.1663C38.5236 21.308 38.493 21.4497 38.4589 21.5978C38.4412 20.6125 38.4412 19.6209 38.4412 18.5985C37.3151 18.5985 36.2281 18.5985 35.1166 18.5726C35.0279 18.1748 34.987 17.797 34.8943 17.4325C34.7545 16.8835 34.5785 16.3437 34.418 15.7999C35.6297 15.7981 36.8415 15.7962 38.0772 15.7979Z" fill="#EA3323"/>
          <path d="M31.7375 12.1164C30.6875 11.1946 29.5297 10.4606 28.1815 10.0839C24.7654 9.1293 21.7789 9.96045 19.2391 12.3792C17.3921 14.1383 16.3727 16.3427 16.0713 18.8667C15.6986 21.9869 16.4262 24.825 18.4481 27.2558C20.3885 29.5887 22.903 30.7484 25.9573 30.5838C28.0718 30.4699 29.8992 29.6188 31.4944 28.213C31.5268 28.225 31.5441 28.2465 31.5632 28.282C31.15 28.6285 30.7574 28.9949 30.3153 29.2863C29.3778 29.9041 28.35 30.3255 27.2471 30.5539C26.2269 30.7651 25.2061 30.8055 24.1676 30.6638C22.477 30.4331 20.9931 29.7463 19.6737 28.6953C18.6989 27.9187 17.9284 26.9582 17.3014 25.8799C16.6429 24.7476 16.2103 23.5318 15.9954 22.2466C15.8451 21.3477 15.7822 20.4414 15.8564 19.5203C15.9386 18.4991 16.1167 17.504 16.4485 16.541C16.9458 15.0977 17.6988 13.8041 18.7425 12.6748C20.069 11.2395 21.6617 10.2705 23.555 9.79481C24.4318 9.57451 25.3281 9.49437 26.2245 9.56678C28.1965 9.72606 29.9555 10.4313 31.4672 11.7239C31.5719 11.8135 31.6805 11.8986 31.8032 11.9931C31.7963 12.0361 31.7736 12.0716 31.7375 12.1164Z" fill="#B62E23"/>
          <path d="M29.5433 15.3688C28.8952 15.0187 28.2335 14.7475 27.5038 14.6337C26.4505 14.4694 25.4434 14.5985 24.4837 15.048C23.0598 15.7148 22.0626 16.7968 21.5707 18.2863C20.9604 20.1348 21.2179 21.8879 22.3818 23.4614C23.2147 24.5874 24.3413 25.3012 25.7302 25.5413C26.9687 25.7554 28.1505 25.5487 29.2761 24.9361C29.3183 24.9574 29.3416 24.985 29.3674 25.0261C25.8448 26.9885 21.5823 24.7604 21.1598 20.7481C20.8461 17.7685 22.7419 15.1176 25.6415 14.5271C27.0378 14.2427 28.3563 14.4995 29.5861 15.2647C29.5852 15.3054 29.5709 15.333 29.5433 15.3688Z" fill="#B62F23"/>
          <path d="M32.3301 27.3652C33.5296 26.0071 34.2981 24.4465 34.7268 22.7105C34.7412 22.652 34.756 22.5935 34.773 22.5154C34.8002 22.4941 34.825 22.4923 34.868 22.4953C34.7289 23.0622 34.6029 23.6355 34.408 24.1844C33.991 25.3595 33.3336 26.4007 32.5362 27.3552C32.4867 27.4146 32.4251 27.464 32.3534 27.5254C32.334 27.4831 32.3305 27.4334 32.3301 27.3652Z" fill="#B62E22"/>
          <path d="M34.9688 18.5956C34.8498 17.6417 34.595 16.7302 34.2471 15.822C34.2864 15.7999 34.3306 15.797 34.3966 15.7973C34.5792 16.3441 34.7552 16.8839 34.8949 17.4329C34.9876 17.7975 35.0285 18.1752 35.0932 18.5692C35.058 18.5939 35.0222 18.5964 34.9688 18.5956Z" fill="#B62F24"/>
          <path d="M64.6569 25.7596L63.267 25.2208V23.0874L63.9566 22.6241L64.6569 23.0874V25.7596ZM63.7518 22.4733L63.0407 22.9258H59.6574L58.2567 21.9992H63.0407L63.7518 22.4733ZM59.4204 25.2208L58.0304 25.7596V22.15L59.4204 23.0874V25.2208ZM64.6569 28.6688L63.9566 29.1321L63.267 28.6688V26.4599L64.6569 25.9966V28.6688ZM64.3444 25.8781L63.0407 26.3091H59.6574L58.3537 25.8781L59.6574 25.3717H63.0407L64.3444 25.8781ZM59.4204 28.6688L58.0304 29.6062V25.9966L59.4204 26.4599V28.6688ZM63.7518 29.2829L63.0407 29.757H58.2567L59.6574 28.8304H63.0407L63.7518 29.2829ZM72.395 25.7596L71.005 25.2208V23.0874L72.395 22.15V25.7596ZM72.1687 21.9992L70.7787 22.9258H67.3955L65.9947 21.9992H72.1687ZM67.1584 25.2208L65.7685 25.7596V22.15L67.1584 23.0874V25.2208ZM72.0825 25.8781L70.7787 26.3091H67.3955L66.0917 25.8781L67.3955 25.3717H70.7787L72.0825 25.8781ZM72.395 29.757L71.005 28.8304V26.4599L72.395 25.9966V29.757ZM67.1584 28.8304L65.7685 29.757V25.9966L67.1584 26.4599V28.8304ZM80.133 22.6349L76.1679 25.1885H75.1874V24.5205L79.1094 21.9992H80.133V22.6349ZM74.8965 25.2208L73.5065 25.7596V21.9992L74.8965 22.9258V25.2208ZM79.8205 25.8781L78.5168 26.3091H75.1335L73.8298 25.8781L75.1335 25.3717H78.5168L79.8205 25.8781ZM80.133 29.757L78.743 28.8304V26.4599L80.133 25.9966V29.757ZM74.8965 28.8304L73.5065 29.757V25.9966L74.8965 26.4599V28.8304ZM87.6448 21.9992L86.2548 22.9258H82.8715L81.4708 21.9992H87.6448ZM82.6345 25.2208L81.2446 25.7596V22.15L82.6345 23.0874V25.2208ZM87.5586 25.8781L86.2548 26.3091H82.8715L81.5678 25.8781L82.8715 25.3717H86.2548L87.5586 25.8781ZM87.6448 29.757H81.4708L82.8715 28.8304H86.2548L87.6448 29.757ZM82.6345 28.6688L81.2446 29.6062V25.9966L82.6345 26.4599V28.6688Z" fill="#0A0A0A"/>
          </g>
          <defs>
          <clipPath id="clip0_79_27">
          <rect width="78.4" height="32" fill="white" transform="translate(10 4)"/>
          </clipPath>
          </defs>
        </svg>
      </a>

      <div class="nav-menu">
        <a href="index.html" class="nav-link">BERANDA</a>
        <a href="machine.html" class="nav-link active">MESIN</a>
        <a href="#" class="nav-link">TENTANG KAMI</a>
        <a href="#" class="nav-link">RESEP</a>
        <a href="#" class="nav-link">ARTIKEL</a>
      </div>

      <div class="nav-actions">
        <a href="#" class="nav-link nav-link-contact">HUBUNGI KAMI</a>
        <button class="nav-btn" id="cartBtn">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.875 16.875C7.22018 16.875 7.5 16.5952 7.5 16.25C7.5 15.9048 7.22018 15.625 6.875 15.625C6.52982 15.625 6.25 15.9048 6.25 16.25C6.25 16.5952 6.52982 16.875 6.875 16.875Z" stroke="#FAFAFA" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/><path d="M15.625 16.875C15.9702 16.875 16.25 16.5952 16.25 16.25C16.25 15.9048 15.9702 15.625 15.625 15.625C15.2798 15.625 15 15.9048 15 16.25C15 16.5952 15.2798 16.875 15.625 16.875Z" stroke="#FAFAFA" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/><path d="M1.875 3.125H4.375L6.25 13.75H16.25" stroke="#FAFAFA" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.25 11.25H15.9937C16.066 11.2501 16.1361 11.225 16.192 11.1793C16.2479 11.1335 16.2862 11.0697 16.3004 10.9988L17.4254 5.37383C17.4345 5.32847 17.4334 5.28166 17.4222 5.23678C17.4109 5.19191 17.3899 5.15008 17.3606 5.11431C17.3312 5.07855 17.2943 5.04974 17.2525 5.02997C17.2107 5.0102 17.165 4.99997 17.1187 5H5" stroke="#FAFAFA" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <span class="cart-badge" id="cartCount">0</span>
        </button>
        <button class="nav-btn mobile-only-btn" id="menuBtn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
        </button>
      </div>
    </div>
  </nav>

  <div class="mobile-menu-overlay" id="mobileMenu">
    </div>

  <div class="overlay" id="cartOverlay"></div>
  <aside class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
        <span class="body-xl" style="font-weight: 700;">Keranjang</span>
        <button id="closeCart" style="background:none; border:none; cursor:pointer;">X</button>
    </div>
    <div class="cart-items" id="cartItemsContainer"></div>
    <div class="cart-footer">
        <div class="flex-between"><span>Total</span><h6 id="cartTotalPrice">Rp0</h6></div>
    </div>
  </aside>

  <main>
    <section class="container">
      <div class="product-detail-wrapper" id="productDetailContainer">
        </div>
    </section>
  </main>

  <footer id="main-footer">
    <div class="footer-container">
        <div class="footer-top"><div class="footer-logo"></div></div>
    </div>
  </footer>

  <script src="productData.js"></script>
  <script src="cart.js"></script>
  <script>
    // --- JS LOGIC FOR PRODUCT DETAIL ---
    document.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        const productId = parseInt(urlParams.get('id'));
        const container = document.getElementById('productDetailContainer');

        const product = products.find(p => p.id === productId);

        if (!product) {
            container.innerHTML = '<h2>Produk tidak ditemukan.</h2>';
            return;
        }

        // Ambil gambar (jika array kosong atau string, handle fallback)
        let imageList = Array.isArray(product.images) && product.images.length > 0 
            ? product.images 
            : [product.image]; // Fallback ke property lama jika ada

        // RENDER HTML STRUCTURE
        container.innerHTML = `
            <div class="detail-left">
                <div class="main-image-wrapper">
                    <img src="${imageList[0]}" alt="${product.name}" class="main-image" id="mainImage">
                </div>
                <div class="thumbnail-gallery" id="thumbnailGallery">
                    </div>
            </div>

            <div class="detail-right">
                
                <div class="detail-card">
                    <h1 class="product-title">${product.name}</h1>
                    <div class="product-price">${formatRupiah(product.price)}</div>
                    
                    <div class="action-row">
                        <div class="qty-selector">
                            <button class="qty-btn" onclick="updateQty(-1)">-</button>
                            <input type="text" class="qty-input" id="qtyValue" value="1" readonly>
                            <button class="qty-btn" onclick="updateQty(1)">+</button>
                        </div>
                        <button class="btn-primary btn-add-cart" onclick="addToCartDetailed(${product.id})">
                            MASUKKAN KERANJANG
                        </button>
                    </div>
                </div>

                <div class="detail-card" onclick="toggleAccordion(this)">
                    <div class="accordion-header">
                        <span class="accordion-title">Deskripsi</span>
                        <div class="accordion-icon"></div>
                    </div>
                    <div class="accordion-content">
                        <p>${product.description || "Tidak ada deskripsi."}</p>
                    </div>
                </div>

                <div class="detail-card" onclick="toggleAccordion(this)">
                    <div class="accordion-header">
                        <span class="accordion-title">Spesifikasi</span>
                        <div class="accordion-icon"></div>
                    </div>
                    <div class="accordion-content">
                        <p>Placeholder: Dimensi, Daya Listrik, Kapasitas, Berat Mesin.</p>
                    </div>
                </div>

                <div class="detail-card" onclick="toggleAccordion(this)">
                    <div class="accordion-header">
                        <span class="accordion-title">Pengiriman</span>
                        <div class="accordion-icon"></div>
                    </div>
                    <div class="accordion-content">
                        <p>Placeholder: Gratis ongkir wilayah Jakarta. Pengiriman luar kota menggunakan ekspedisi rekanan.</p>
                    </div>
                </div>

                <div class="detail-card">
                    <span class="accordion-title">Produk Serupa</span>
                    <div class="similar-grid" id="similarContainer">
                        </div>
                </div>

            </div>
        `;

        // --- RENDER THUMBNAILS ---
        const thumbContainer = document.getElementById('thumbnailGallery');
        imageList.forEach((imgSrc, index) => {
            // Maksimal 2 thumbnail sesuai request
            if(index > 1) return; 

            const thumb = document.createElement('div');
            thumb.className = `thumb-item ${index === 0 ? 'active' : ''}`;
            thumb.innerHTML = `<img src="${imgSrc}" class="thumb-img">`;
            
            thumb.addEventListener('click', () => {
                // Change main image
                const mainImg = document.getElementById('mainImage');
                mainImg.style.opacity = 0;
                setTimeout(() => {
                    mainImg.src = imgSrc;
                    mainImg.style.opacity = 1;
                }, 150);

                // Update active state
                document.querySelectorAll('.thumb-item').forEach(t => t.classList.remove('active'));
                thumb.classList.add('active');
            });

            thumbContainer.appendChild(thumb);
        });

        // --- RENDER SIMILAR PRODUCTS ---
        const similarContainer = document.getElementById('similarContainer');
        const similarProducts = products
            .filter(p => p.category === product.category && p.id !== product.id)
            .slice(0, 2); // Max 2 item

        if(similarProducts.length === 0) {
            similarContainer.innerHTML = '<p class="body-s">Tidak ada produk serupa.</p>';
        } else {
            similarProducts.forEach(sim => {
                const img = Array.isArray(sim.images) ? sim.images[0] : sim.image;
                similarContainer.innerHTML += `
                    <div class="similar-item" onclick="window.location.href='product-detail.html?id=${sim.id}'">
                        <img src="${img}" class="similar-img">
                        <div class="similar-overlay">
                            <h6 class="similar-title">${sim.name}</h6>
                        </div>
                    </div>
                `;
            });
        }
    });

    // --- LOGIC FUNCTIONS ---
    
    // Accordion Toggle
    function toggleAccordion(card) {
        card.classList.toggle('active');
    }

    // Quantity Logic
    function updateQty(change) {
        const input = document.getElementById('qtyValue');
        let val = parseInt(input.value);
        val += change;
        if(val < 1) val = 1;
        input.value = val;
    }

    // Custom Add to Cart with Quantity
    function addToCartDetailed(id) {
        const qty = parseInt(document.getElementById('qtyValue').value);
        // Panggil fungsi addToCart dari cart.js sebanyak qty kali 
        // (Atau modifikasi cart.js untuk terima qty, tapi cara loop ini works dengan cart.js yang ada)
        for(let i=0; i<qty; i++) {
            addToCart(id); 
        }
        // Buka sidebar cart
        document.getElementById('cartBtn').click();
    }

    // --- STANDARD NAVBAR LOGIC ---
    const cartBtn = document.getElementById('cartBtn');
    const cartSidebar = document.getElementById('cartSidebar');
    const cartOverlay = document.getElementById('cartOverlay');
    const closeCart = document.getElementById('closeCart');
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    const navbar = document.getElementById('mainNavbar');

    if(cartBtn) {
        cartBtn.addEventListener('click', () => {
            cartSidebar.classList.add('active');
            cartOverlay.classList.add('active');
            navbar.classList.add('cart-open');
            if (typeof renderCartItems === 'function') renderCartItems();
        });
    }
    
    [closeCart, cartOverlay].forEach(el => {
        if(el) {
            el.addEventListener('click', () => {
                cartSidebar.classList.remove('active');
                cartOverlay.classList.remove('active');
                navbar.classList.remove('cart-open');
            });
        }
    });

    if(menuBtn) {
        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('active');
            navbar.classList.toggle('menu-open');
        });
    }
  </script>
</body>
</html>
